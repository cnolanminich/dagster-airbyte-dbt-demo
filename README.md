# dagster_airbyte_dbt

This is an example Dagster project that orchestrates an local Airbyte instance to load a csv from a website into a duckdb instance, and then has a dbt model that transforms that data.

## Installation Notes

You will need docker and docker desktop installed to run Airbyte locally.

* The exisitng Airbyte docker-compose.yaml file generated by ./`run-ab-platform.sh` does not work. I modified it to use `airbyte-server` and get rid of the alias throughout the file and it worked.
* I used the GUI and the default settings but you can see the config settings for the source here: [sources/file_csv_json_excel_feather_parquet/configuation.yaml], and for the destination here: [destinations/local_duckdb/configuation.yaml]
* I had issues mounting the data to a volume on my local laptop, so I ended up using `docker cp` to copy the duckdb database file I created, like so: `docker cp airbyte-server:/tmp/airbyte_local/example.duckdb .`

## Getting started

* run `./run-ab-platform.sh` from the `airbyte` directory. This will start an Airbyte instance on port 8000.
* `pip install -e ".[dev]"`
* Set up Airbyte load via the UI
* `docker cp airbyte-server:/tmp/airbyte_local/example.duckdb .` (from the `airbyte/` directory)
* Then, start the Dagster UI web server: `dagster dev`
* Open http://localhost:3000 with your browser to see the project and run the dbt models
